{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "134fb5b6",
   "metadata": {},
   "source": [
    "<div class=\"alert alert alert-success\">1. Création de fonction mathématique simple en Python (12 points) :</div>\n",
    "<div class=\"alert alert alert-success\">a) Implémentation de la fonction polynomiale</div>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "142e1b65",
   "metadata": {},
   "outputs": [],
   "source": [
    "def polynome(x):\n",
    "    return x**3-1.5*x**2-6*x+5"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "d489343b",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "62.5"
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "polynome(5)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2c5e3ae1",
   "metadata": {},
   "source": [
    "<div class=\"alert alert alert-success\">b) Implémentation de la fonction factorielle</div>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "782d086e",
   "metadata": {},
   "outputs": [],
   "source": [
    "def factorielle(n):\n",
    "    if n == 0:\n",
    "        return 1\n",
    "    else:\n",
    "        result = 1\n",
    "        for k in range(2,n+1):\n",
    "            result = result * k\n",
    "            \n",
    "    return result"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "9b35d543",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "120"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "factorielle(5)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "70636094",
   "metadata": {},
   "source": [
    "<div class=\"alert alert alert-success\">c) Implémentation de lasuite de Fibonnaci</div>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "b9564d80",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Entrez un nombre: 5\n",
      "La suite de Fibonacci est : \n",
      "0\n",
      "1\n",
      "1\n",
      "2\n",
      "3\n"
     ]
    }
   ],
   "source": [
    "def fibonacci(n):\n",
    "    if(n <= 1):\n",
    "        return n\n",
    "    else:\n",
    "        return (fibonacci(n-1) + fibonacci(n-2))\n",
    "n = int(input(\"Entrez un nombre: \"))\n",
    "print(\"La suite de Fibonacci est : \")\n",
    "for i in range(n):\n",
    "    print(fibonacci(i))"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f51668e5",
   "metadata": {},
   "source": [
    "<div class=\"alert alert alert-success\">\n",
    "    <b>2. Création de fonction comportant des modules de gestions des\n",
    "exceptions (5 points) : </b></div>\n",
    "<div class=\"alert alert alert-success\"> En utilisant l’une des trois fonctions mathématiques précédentes, implémenter un script\n",
    "permettant de gérer les exceptions pours les cas suivants :\n",
    "<ul>\n",
    "    <li>Saisie d'une chaine de caractère dans les arguments de la fonction</li>\n",
    "    <li>Saisie un nombre complexe</li>\n",
    "    <li>Saisie d'un nombre négatif</li>\n",
    "    <li>Saisie d'un très grand nombre</li>\n",
    "    <li>Saisie d'un très petit nombre</li>\n",
    "</ul>\n",
    "On pourra s’aider de la correction du TP Pythagore figurant sur le Classroom.\n",
    "</div>"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "30d32ddd",
   "metadata": {},
   "source": [
    "Choix de la 1ere fonction polynome pour réaliser la suite du sujet"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "763b8941",
   "metadata": {},
   "outputs": [],
   "source": [
    "def calcul(x):\n",
    "    return x**3-1.5*x**2-6*x+5"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "9ed318e8",
   "metadata": {},
   "outputs": [],
   "source": [
    "def polynome(x):\n",
    "    return calcul(x)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "e2ef3719",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "62.5"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "polynome(5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "6d361ab2",
   "metadata": {},
   "outputs": [],
   "source": [
    "def polynome(x):\n",
    "    #### Cas 1 : Variable en entrée est un string\n",
    "    ##########################################################\n",
    "    #### Si x est un string alors on demande à l'utilisateur de ressaisir la valeur\n",
    "    #### Message d'erreur :\n",
    "    \n",
    "    if (type(x)==str):\n",
    "        print(\"On ne peux calculer le polynome d'une chaine de caractères\")\n",
    "        print(\"Veuillez saisir une valeur numérique\")\n",
    "        #### Demande de saisir une nouvelle valeur valide\n",
    "        x = int(input())\n",
    "        \n",
    "    return calcul(x)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "899b555e",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "On ne peux calculer le polynome d'une chaine de caractères\n",
      "Veuillez saisir une valeur numérique\n",
      "5\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "62.5"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "polynome(\"oui\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "59f93159",
   "metadata": {},
   "outputs": [],
   "source": [
    "def comple(x):\n",
    "    if (type(x)==complex):\n",
    "        a = x.real\n",
    "        b = x.imag\n",
    "        #### print (\"{} est la partie réelle et {} la partie imaginaire\".format(a,b))\n",
    "        #(a + ib)3  = a3 – 3ab2 + i (3a2b – b3)\n",
    "        c = a**3-3*a*(b)**2 + (3*(a**2)*b-b**3)*1j     \n",
    "        #(a + ib)2  = a2 – b2 + 2 iab\n",
    "        d = a**2-b**2+2*a*b*1j\n",
    "        result = c - 1.5*d - 6*x + 5\n",
    "        #print(c)\n",
    "        #print(d)\n",
    "        return (result)  \n",
    "    else:\n",
    "        print(\"Ce n'est pas un complexe\")\n",
    "    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "76578bb2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(-423.5+108j)"
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "comple(5 + 6j)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "9c9c253c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(-423.5+108j)"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "polynome(5 + 6j)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "d0d5f7a1",
   "metadata": {},
   "outputs": [],
   "source": [
    "def polynome(x):\n",
    "    #### Cas 1 : Variable en entrée est un string\n",
    "    ##########################################################\n",
    "    #### Si x est un string alors on demande à l'utilisateur de ressaisir la valeur\n",
    "    #### Message d'erreur : On ne peux calculer le polynome d'une chaine de caractères\n",
    "    \n",
    "    if (type(x)==str):\n",
    "        print(\"On ne peux calculer le polynome d'une chaine de caractères\")\n",
    "        print(\"Veuillez saisir une valeur numérique\")\n",
    "        #### Demande de saisir une nouvelle valeur valide\n",
    "        x = int(input())\n",
    "        \n",
    "    #### Cas 2 : Variable en entrée est un complexe\n",
    "    ##########################################################\n",
    "    #### \n",
    "    elif (type(x)==complex):\n",
    "        comple(x)\n",
    "        \n",
    "    return calcul(x)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "47d172e0",
   "metadata": {},
   "outputs": [],
   "source": [
    "def polynome(x):\n",
    "    #### Cas 1 : Variable en entrée est un string\n",
    "    ##########################################################\n",
    "    #### Si x est un string alors on demande à l'utilisateur de ressaisir la valeur\n",
    "    #### Message d'erreur : On ne peux calculer le polynome d'une chaine de caractères\n",
    "    \n",
    "    if (type(x)==str):\n",
    "        print(\"On ne peux calculer le polynome d'une chaine de caractères\")\n",
    "        print(\"Veuillez saisir une valeur numérique\")\n",
    "        #### Demande de saisir une nouvelle valeur valide\n",
    "        x = int(input())\n",
    "        \n",
    "    #### Cas 2 : Variable en entrée est un complexe\n",
    "    ##########################################################\n",
    "    #### \n",
    "    elif (type(x)==complex):\n",
    "        comple(x)\n",
    "        \n",
    "    #### Cas 3 : Variable en entrée est un nombre négatif\n",
    "    ##########################################################\n",
    "    #### Pas de soucis particulier, on peut toutefois s'assurer que la valeur a été saisie volontairement\n",
    "    elif (x < 0):\n",
    "        print(\"Une valeur négative a été saisie, est ce un choix volontaire ?\")\n",
    "        print(\"Y or N\")\n",
    "        b =  input()\n",
    "        if (b == \"Y\"):\n",
    "            return calcul(x)\n",
    "        else:\n",
    "            print(\"Veuillez saisir une nouvelle valeur\")\n",
    "            x = int(input())\n",
    "            polynome(x)\n",
    "    \n",
    "        \n",
    "    return calcul(x)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "f1f84fea",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Une valeur négative a été saisie, est ce un choix volontaire ?\n",
      "Y or N\n",
      "Y\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "3.0"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "polynome(-2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "2186cdfb",
   "metadata": {},
   "outputs": [],
   "source": [
    "def limit(x,borne):\n",
    "    if (len(str(x))>borne):\n",
    "        print(\"Le nombre saisi est trop grand et comporte plus de {} caractères\".format(borne))\n",
    "        print(\"Veuillez saisir un nombre plus petit\")\n",
    "        a = int(input())\n",
    "        return a\n",
    "    elif (x<borne**-borne):\n",
    "        print(\"Le nombre saisi est trop petit\")\n",
    "        print(\"Veuillez saisir un nombre plus grand\")\n",
    "        a = int(input())\n",
    "        return a"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "c7c132b1",
   "metadata": {},
   "outputs": [],
   "source": [
    "def polynome(x):\n",
    "    \n",
    "    #### Cas 1 : Variable en entrée est un string\n",
    "    ##########################################################\n",
    "    #### Si x est un string alors on demande à l'utilisateur de ressaisir la valeur\n",
    "    #### Message d'erreur : On ne peux calculer le polynome d'une chaine de caractères\n",
    "    if (type(x)==str):\n",
    "        print(\"On ne peux calculer le polynome d'une chaine de caractères\")\n",
    "        print(\"Veuillez saisir une valeur numérique\")\n",
    "        #### Demande de saisir une nouvelle valeur valide\n",
    "        x = int(input())\n",
    "        \n",
    "        \n",
    "    #### Cas 2 : Variable en entrée est un complexe\n",
    "    ##########################################################\n",
    "    #### \n",
    "    elif (type(x)==complex):\n",
    "        comple(x)\n",
    "        \n",
    "        \n",
    "    #### Cas 3 : Variable en entrée est un nombre négatif\n",
    "    ##########################################################\n",
    "    #### Pas de soucis particulier, on peut toutefois s'assurer que la valeur a été saisie volontairement\n",
    "    elif (x < 0):\n",
    "        print(\"Une valeur négative a été saisie, est ce un choix volontaire ?\")\n",
    "        print(\"Y or N\")\n",
    "        b =  input()\n",
    "        if (b == \"Y\"):\n",
    "            return calcul(x)\n",
    "        else:\n",
    "            print(\"Veuillez saisir une nouvelle valeur\")\n",
    "            x = int(input())\n",
    "            polynome(x)\n",
    "            \n",
    "            \n",
    "    #### Cas 4 et 5 : Saisie d'un très grand nombre ou d'un très petit nombre\n",
    "    ##########################################################\n",
    "    #### On décide arbitrairement de bloquer la longueur de la valeur donnée à 5\n",
    "    #### On décide arbitrairement de bloquer le minimum de la valeur donnée à 5**-5\n",
    "    elif (len(str(x))>5 or x<(5**-5)):\n",
    "        x =limit(x,5)\n",
    "        \n",
    "    return calcul(x)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "7dc582df",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Le nombre saisi est trop grand et comporte plus de 5 caractères\n",
      "Veuillez saisir un nombre plus petit\n",
      "5\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "62.5"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "polynome(99999999999)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "5b0e81a5",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Le nombre saisi est trop petit\n",
      "Veuillez saisir un nombre plus grand\n",
      "5\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "62.5"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "polynome(0.00000002)"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
